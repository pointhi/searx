/* ! themes/oscar/js/oscar.min.js | 28-02-2015 | https://github.com/asciimoo/searx */
var searx;!function(a){function b(b){var c,d="./autocompleter";c="POST"==a.options.method.toUpperCase()?{url:d,replace:function(a,b){return a+"#"+b},ajax:{data:{q:function(){return $(b).val()}},type:"POST"}}:{url:d+"?q=%QUERY"};var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:c});return e.initialize(),e}a.getNewAutocompleter=b}(searx||(searx={})),$(document).ready(function(){searx.options.autocompleter&&$("#q").length>0&&$("#q").typeahead({hint:!0,highlight:!0,minLength:1},{name:"search-results",displayKey:function(a){return a},source:searx.getNewAutocompleter("#q").ttAdapter()})}),$(document).ready(function(){$("#q.autofocus").focus(),$(".select-all-on-click").click(function(){$(this).select()}),$(".btn-collapse").click(function(){var a=$(this).data("btn-text-collapsed"),b=$(this).data("btn-text-not-collapsed");if(null!=a&&null!=b){var c;c=$(this).hasClass("collapsed")?$(this).html().replace(a,b):$(this).html().replace(b,a),$(this).html(c)}}),$(".btn-toggle .btn").click(function(){var a="btn-"+$(this).data("btn-class"),b=$(this).data("btn-label-default"),c=$(this).data("btn-label-toggled");if(null!=c&&null!=b){var d;d=$(this).hasClass("btn-default")?$(this).html().replace(b,c):$(this).html().replace(c,b),$(this).html(d)}null!=a&&($(this).toggleClass(a),$(this).toggleClass("btn-default"))}),$(".media-loader").click(function(){var a=$(this).data("target"),b=$(a),c=b.find("iframe");(void 0===c.attr("src")||c.attr("src")===!1)&&c.attr("src",c.data("src"))}),$(".btn-sm").dblclick(function(){var a="btn-"+$(this).data("btn-class");$(this).hasClass("btn-default")?($(".btn-sm > input").attr("checked","checked"),$(".btn-sm > input").prop("checked",!0),$(".btn-sm").addClass(a),$(".btn-sm").addClass("active"),$(".btn-sm").removeClass("btn-default")):($(".btn-sm > input").attr("checked",""),$(".btn-sm > input").removeAttr("checked"),$(".btn-sm > input").prop("checked",!1),$(".btn-sm").removeClass(a),$(".btn-sm").removeClass("active"),$(".btn-sm").addClass("btn-default"))})});var searx;!function(a){!function(a){function b(){return[new c.Mapnik,new c.CycleMap,new c.TransportMap,new c.HOT,new c.MapQuestOpen,new c.MapquestOpenAerial,new c.ArcGISAerial]}a.getDefaultLayers=b,function(a){var b='Map data Â© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',c=function(){function a(){this.name="Mapnik",this.code="M",this.layer=new L.TileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{minZoom:1,maxZoom:19,attribution:b})}return a}();a.Mapnik=c;var d=function(){function a(){this.name="CycleMap",this.code="C",this.layer=new L.TileLayer("http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",{minZoom:1,maxZoom:18,attribution:a.attribution})}return a.attribution=b+' | Tiles courtesy of <a href="http://www.thunderforest.com/" target="blank">Andy Allan</a>',a}();a.CycleMap=d;var e=function(){function a(){this.name="TransportMap",this.code="T",this.layer=new L.TileLayer("http://{s}.tile.thunderforest.com/transport/{z}/{x}/{y}.png",{minZoom:1,maxZoom:18,attribution:a.attribution})}return a.attribution=b+' | Tiles courtesy of <a href="http://www.thunderforest.com/" target="blank">Andy Allan</a>',a}();a.TransportMap=e;var f=function(){function a(){this.name="HOT",this.code="H",this.layer=new L.TileLayer("http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{minZoom:1,maxZoom:20,subdomains:["a","b","c"],attribution:e.attribution})}return a.attribution=b+' | Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>',a}();a.HOT=f;var g=function(){function a(){this.name="MapQuest Open",this.code="Q",this.layer=new L.TileLayer("http://otile{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpg",{minZoom:1,maxZoom:18,subdomains:["1","2","3","4"],attribution:a.attribution})}return a.attribution=b+' | Tiles Courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest</a> <img src="http://developer.mapquest.com/content/osm/mq_logo.png">',a}();a.MapQuestOpen=g;var h=function(){function a(){this.name="MapQuest Open Aerial",this.code="QA",this.layer=new L.TileLayer("http://otile{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg",{minZoom:1,maxZoom:11,subdomains:["1","2","3","4"],attribution:a.attribution})}return a.attribution=g.attribution+" | Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency",a}();a.MapquestOpenAerial=h;var i=function(){function a(){this.name="ArcGIS Aerial",this.code="AA",this.layer=new L.TileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{minZoom:1,maxZoom:18,attribution:a.attribution})}return a.attribution=b+" | Source: Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",a}();a.ArcGISAerial=i}(a.layer||(a.layer={}));var c=a.layer}(a.map||(a.map={}));a.map}(searx||(searx={}));var searx;!function(a){!function(a){var c=function(){function a(a,b){this.init(a,b)}return a.prototype.init=function(a,c){L.Icon.Default.imagePath="./static/img/map",this.map=L.map(a),c.boundingbox?this.setBoundingbox(c.boundingbox):c.latLng?c.zoom?this.map.setView(c.latLng,c.zoom):this.map.setView(c.latLng,8):this.map.setView(new L.LatLng(49,7),5),this.layers=c.layers?c.layers:b.getDefaultLayers();var d="M";c.defaultLayerCode&&(d=c.defaultLayerCode);var e=this.getLayerByCode(d);this.map.addLayer(null!==e?e.layer:this.layers[0].layer),c.geojson&&this.map.addLayer(L.geoJson(c.geojson))},a.prototype.setBoundingbox=function(a,b){"undefined"==typeof b&&(b=17);var c=this.map;setTimeout(function(){c.fitBounds(a,{maxZoom:b})},0)},a.prototype.getLayerByCode=function(a){for(var b in this.layers)if(a==this.layers[b].code)return this.layers[b];return null},a}();a.Map=c}(a.map||(a.map={}));var b=a.map}(searx||(searx={}));var searx;!function(a){!function(a){function b(a){switch(a.toUpperCase()){case"NODE":return 0;case"WAY":return 1;case"RELATION":return 2;default:return null}}!function(a){a[a.NODE=0]="NODE",a[a.WAY=1]="WAY",a[a.RELATION=2]="RELATION"}(a.osmTypes||(a.osmTypes={}));a.osmTypes;a.getOsmTypeFromString=b}(a.osm||(a.osm={}));a.osm}(searx||(searx={}));var searx;!function(a){!function(a){function b(a,b,c){var d="[out:json][timeout:25];(";switch(b){case 0:d+="node("+a+");";break;case 1:d+="way("+a+");";break;case 2:d+="relation("+a+");"}d+=");out meta;",$.ajax({type:"GET",url:"https://overpass-api.de/api/interpreter",dataType:"json",data:{data:d},success:function(d){if(c.success){var e=[];if(d.elements.length>=1){var f=d.elements[0].tags;for(var g in f)e.push({key:g,values:f[g].split(";")})}var h={id:a,type:b,tags:e};c.success(h)}},error:function(){c.error&&c.error()}})}a.overpassApiElementRequest=b}(a.osm||(a.osm={}));a.osm}(searx||(searx={})),$(document).ready(function(){$(".searx_init_map").click(function(a){var b=$(this);setTimeout(function(){var a=b.data("leaflet-target"),c=null;b.data("map-boundingbox")&&(c=L.latLngBounds(L.latLng(b.data("map-boundingbox")[0],b.data("map-boundingbox")[2]),L.latLng(b.data("map-boundingbox")[1],b.data("map-boundingbox")[3])));new searx.map.Map(a,{latLng:new L.LatLng(b.data("map-lat"),b.data("map-lng")),zoom:b.data("map-zoom"),geojson:b.data("map-geojson"),boundingbox:c})},0),$(this).off(a)}),$(".searx_overpass_request").click(function(a){var b=$(this),c=$("#"+b.data("result-table-loadicon")),d=$("#"+$(this).data("result-table")),e=$(this).data("osm-id"),f=searx.osm.getOsmTypeFromString($(this).data("osm-type"));searx.osm.overpassApiElementRequest(e,f,{success:function(a){for(var b in a.tags)if(-1==["addr:city","addr:country","addr:housenumber","addr:postcode","addr:street"].indexOf(a.tags[b].key)){var e="<td>"+a.tags[b].key+"</td><td>"+searx.osm.formateValues(a.tags[b]).join(";")+"</td>";d.append("<tr>"+e+"</tr")}d.removeClass("hidden"),c.addClass("hidden")},error:function(){c.append('<p class="text-muted">could not load data!</p>')}}),$(this).off(a)})});var searx;!function(a){!function(a){function b(a){var b=[];for(var c in a.values)switch(a.key){case"phone":case"fax":b.push('<a href="tel:'+a.values[c].replace(/ /g,"")+'">'+a.values[c]+"</a>");break;case"email":b.push('<a href="mailto:'+a.values[c]+'">'+a.values[c]+"</a>");break;case"website":case"url":var d=a.values[c];/^\w+:\/\//.test(d)||(d="http://"+d),b.push('<a href="'+d+'">'+a.values[c]+"</a>");break;case"wikidata":b.push('<a href="https://www.wikidata.org/wiki/'+a.values[c]+'">'+a.values[c]+"</a>");break;case"wikipedia":-1!=a.values[c].indexOf(":")&&b.push('<a href="https://'+a.values[c].substring(0,a.values[c].indexOf(":"))+".wikipedia.org/wiki/"+a.values[c].substring(a.values[c].indexOf(":")+1)+'">'+a.values[c]+"</a>");break;default:b.push(a.values[c])}return b}a.formateValues=b}(a.osm||(a.osm={}));a.osm}(searx||(searx={}));