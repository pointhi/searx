/* ! themes/oscar/js/oscar.min.js | 04-03-2015 | https://github.com/asciimoo/searx */
var searx;!function(a){function b(b){var c,d="./autocompleter";c="POST"==a.options.method.toUpperCase()?{url:d,replace:function(a,b){return a+"#"+b},ajax:{data:{q:function(){return $(b).val()}},type:"POST"}}:{url:d+"?q=%QUERY"};var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:c});return e.initialize(),e}a.getNewAutocompleter=b}(searx||(searx={})),$(document).ready(function(){searx.options.autocompleter&&$("#q").length>0&&$("#q").typeahead({hint:!0,highlight:!0,minLength:1},{name:"search-results",displayKey:function(a){return a},source:searx.getNewAutocompleter("#q").ttAdapter()})});var searx;!function(a){!function(a){function b(){return[new c.Mapnik,new c.CycleMap,new c.TransportMap,new c.LandscapeMap,new c.OutdoorsMap,new c.HOT,new c.MapQuestOpen,new c.MapquestOpenAerial,new c.ArcGISAerial]}a.getDefaultLayers=b,function(a){var b='Map data Â© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',c=function(){function a(){this.name="Mapnik",this.code="M",this.layer=new L.TileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{minZoom:1,maxZoom:19,subdomains:["a","b","c"],attribution:b})}return a}();a.Mapnik=c;var d=function(){function a(){this.name="CycleMap",this.code="C",this.layer=new L.TileLayer("http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",{minZoom:1,maxZoom:18,subdomains:["a","b","c"],attribution:a.attribution})}return a.attribution=b+' | Tiles courtesy of <a href="http://www.thunderforest.com/" target="blank">Andy Allan</a>',a}();a.CycleMap=d;var e=function(){function a(){this.name="TransportMap",this.code="T",this.layer=new L.TileLayer("http://{s}.tile.thunderforest.com/transport/{z}/{x}/{y}.png",{minZoom:1,maxZoom:18,subdomains:["a","b","c"],attribution:a.attribution})}return a.attribution=b+' | Tiles courtesy of <a href="http://www.thunderforest.com/" target="blank">Andy Allan</a>',a}();a.TransportMap=e;var f=function(){function a(){this.name="Landscape",this.code="L",this.layer=new L.TileLayer("http://{s}.tile.thunderforest.com/landscape/{z}/{x}/{y}.png",{minZoom:1,maxZoom:18,subdomains:["a","b","c"],attribution:a.attribution})}return a.attribution=b+' | Tiles courtesy of <a href="http://www.thunderforest.com/" target="blank">Andy Allan</a>',a}();a.LandscapeMap=f;var g=function(){function a(){this.name="Outdoors",this.code="O",this.layer=new L.TileLayer("http://{s}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png",{minZoom:1,maxZoom:18,subdomains:["a","b","c"],attribution:a.attribution})}return a.attribution=b+' | Tiles courtesy of <a href="http://www.thunderforest.com/" target="blank">Andy Allan</a>',a}();a.OutdoorsMap=g;var h=function(){function a(){this.name="HOT",this.code="H",this.layer=new L.TileLayer("http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{minZoom:1,maxZoom:20,subdomains:["a","b","c"],attribution:a.attribution})}return a.attribution=b+' | Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>',a}();a.HOT=h;var i=function(){function a(){this.name="MapQuest Open",this.code="Q",this.layer=new L.TileLayer("http://otile{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpg",{minZoom:1,maxZoom:18,subdomains:["1","2","3","4"],attribution:a.attribution})}return a.attribution=b+' | Tiles Courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest</a> <img src="http://developer.mapquest.com/content/osm/mq_logo.png">',a}();a.MapQuestOpen=i;var j=function(){function a(){this.name="MapQuest Open Aerial",this.code="QA",this.layer=new L.TileLayer("http://otile{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg",{minZoom:1,maxZoom:11,subdomains:["1","2","3","4"],attribution:a.attribution})}return a.attribution=i.attribution+" | Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency",a}();a.MapquestOpenAerial=j;var k=function(){function a(){this.name="ArcGIS Aerial",this.code="AA",this.layer=new L.TileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{minZoom:1,maxZoom:18,attribution:a.attribution})}return a.attribution=b+" | Source: Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",a}();a.ArcGISAerial=k}(a.layer||(a.layer={}));var c=a.layer}(a.map||(a.map={}));a.map}(searx||(searx={}));var searx;!function(a){!function(a){!function(a){function b(){return L.icon({iconUrl:"./static/img/map/marker-icon.png",shadowUrl:"./static/img/map/marker-shadow.png",iconSize:new L.Point(25,41),iconAnchor:new L.Point(12,41),shadowSize:new L.Point(41,41),shadowAnchor:new L.Point(12,41)})}function c(){return L.icon({iconUrl:"./static/img/map/marker-icon-green.png",shadowUrl:"./static/img/map/marker-shadow.png",iconSize:new L.Point(25,41),iconAnchor:new L.Point(12,41),shadowSize:new L.Point(41,41),shadowAnchor:new L.Point(12,41)})}a.getMarkerIcon=b,a.getMarkerIconGreen=c}(a.icons||(a.icons={}));a.icons}(a.map||(a.map={}));a.map}(searx||(searx={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},searx;!function(a){!function(a){!function(a){function b(a){return new c(a)}var c=function(a){function b(b){a.call(this,b)}return __extends(b,a),b.prototype.onAdd=function(a){this._map=a;var b=$("<div>").addClass("zoom");return this._zoomInButton=this._createButton("","zoom-in","plus zoomin",b,this._zoomIn,this),b.append(this._zoomInButton),this._zoomOutButton=this._createButton("","zoom-out","minus zoomout",b,this._zoomOut,this),b.append(this._zoomOutButton),this._map.on("zoomend zoomlevelschange",this._updateDisabled,this),b[0]},b.prototype.onRemove=function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},b.prototype._zoomIn=function(a){this._map.zoomIn(a.shiftKey?3:1)},b.prototype._zoomOut=function(a){this._map.zoomOut(a.shiftKey?3:1)},b.prototype._createButton=function(a,b,c,d,e,f){var g=L.DomEvent.stopPropagation,h=$("<a>").addClass("control-button").addClass(c).attr("href","#").html('<span class="icon glyphicon glyphicon-'+c+'"></span>').click(g).mousedown(g).dblclick(g).click(L.DomEvent.preventDefault);return L.DomEvent.on(h[0],"click",e,f),h},b.prototype._updateDisabled=function(){var a="leaflet-disabled";this._zoomInButton.removeClass(a),this._zoomOutButton.removeClass(a),this._map.getZoom()===this._map.getMinZoom()&&this._zoomOutButton.addClass(a),this._map.getZoom()===this._map.getMaxZoom()&&this._zoomInButton.addClass(a)},b}(L.Control);a.Zoom=c,a.zoom=b}(a.control||(a.control={}));a.control}(a.map||(a.map={}));a.map}(searx||(searx={}));var searx;!function(a){!function(a){function b(a,b){a.children(".panel-default").css("display","none"),a.children("."+b).css("display","block"),a.css("display","block")}function c(a){a.css("display","none"),a.children(".panel-default").css("display","none")}function d(a,d){return"none"==a.css("display")||"none"==a.children("."+d).css("display")?(b(a,d),!0):(c(a),!1)}a.showPanelUi=b,a.hidePanelUi=c,a.togglePanelUi=d}(a.map||(a.map={}));a.map}(searx||(searx={}));var searx;!function(a){!function(a){!function(b){function c(a){return new d(a)}var d=function(b){function c(a){b.call(this,a),this._options=a,this._layers=a.layers}return __extends(c,b),c.prototype.onAdd=function(b){this._map=b;var c=$(b.getContainer()).parent().find(".map-ui"),d=c.find(".layers-ui"),e=$("<div>").addClass("control-layers"),f=$("<a>").addClass("control-button").attr("href","#").html('<span class="icon glyphicon glyphicon-th-list"></span>').click(function(){return a.togglePanelUi(c,"layers-ui")?f.addClass("active"):f.removeClass("active"),!1}).appendTo(e);d.find(".close").click(function(){return a.hidePanelUi(c),f.removeClass("active"),!1});var g=$("<p>").appendTo(d.find(".panel-body"));for(var h in this._layers){var i=this._layers[h];g.append(this._getLayerSelector(i)),g.append(" "+i.name+"<br>")}return e[0]},c.prototype._getLayerSelector=function(a){var b=$(document.createElement("input")).attr("type","radio").attr("name","maplayer").attr("value",a.code);this._map.hasLayer(a.layer)&&b.attr("checked","1");var c=this._map,d=this._layers;return b.click(function(){for(var b in d)d[b]==a?c.addLayer(a.layer):c.removeLayer(d[b].layer)}),b},c}(L.Control);b.Layers=d,b.layers=c}(a.control||(a.control={}));a.control}(a.map||(a.map={}));a.map}(searx||(searx={}));var searx;!function(a){!function(a){var c=function(){function c(a,b){this.init(a,b)}return c.prototype.init=function(c,d){L.Icon.Default.imagePath="./static/img/map",this.map=L.map(c,{zoomControl:!1}),d.boundingbox?this.setBoundingbox(d.boundingbox):d.latLng?d.zoom?this.map.setView(d.latLng,d.zoom):this.map.setView(d.latLng,8):this.map.setView(new L.LatLng(49,7),5),this.layers=d.layers?d.layers:b.getDefaultLayers();var e="M";d.defaultLayerCode&&(e=d.defaultLayerCode);var f=this.getLayerByCode(e);this.map.addLayer(null!==f?f.layer:this.layers[0].layer),this.map.addControl(a.control.zoom({position:"topright"})),this.map.addControl(a.control.layers({position:"topright",layers:this.layers})),d.geojson&&this.map.addLayer(L.geoJson(d.geojson))},c.prototype.setBoundingbox=function(a,b){"undefined"==typeof b&&(b=17);var c=this.map;setTimeout(function(){c.fitBounds(a,{maxZoom:b})},0)},c.prototype.getLayerByCode=function(a){for(var b in this.layers)if(a==this.layers[b].code)return this.layers[b];return null},c}();a.Map=c}(a.map||(a.map={}));var b=a.map}(searx||(searx={}));var searx;!function(a){!function(a){function b(a){switch(a.toUpperCase()){case"NODE":return 0;case"WAY":return 1;case"RELATION":return 2;default:return null}}!function(a){a[a.NODE=0]="NODE",a[a.WAY=1]="WAY",a[a.RELATION=2]="RELATION"}(a.osmTypes||(a.osmTypes={}));a.osmTypes;a.getOsmTypeFromString=b}(a.osm||(a.osm={}));a.osm}(searx||(searx={}));var searx;!function(a){!function(a){function b(a,b,c){var d="[out:json][timeout:25];(";switch(b){case 0:d+="node("+a+");";break;case 1:d+="way("+a+");";break;case 2:d+="relation("+a+");"}d+=");out meta;",$.ajax({type:"GET",url:"https://overpass-api.de/api/interpreter",dataType:"json",data:{data:d},success:function(d){if(c.success){var e=[];if(d.elements.length>=1){var f=d.elements[0].tags;for(var g in f)e.push({key:g,values:f[g].split(";")})}var h={id:a,type:b,tags:e};c.success(h)}},error:function(){c.error&&c.error()}})}a.overpassApiElementRequest=b}(a.osm||(a.osm={}));a.osm}(searx||(searx={})),$(document).ready(function(){if($("#big_map").length>0){new searx.map.Map("big_map",{})}}),$(document).ready(function(){$("#q.autofocus").focus(),$(".select-all-on-click").click(function(){$(this).select()}),$(".btn-collapse").click(function(){var a=$(this).data("btn-text-collapsed"),b=$(this).data("btn-text-not-collapsed");if(null!=a&&null!=b){var c;c=$(this).hasClass("collapsed")?$(this).html().replace(a,b):$(this).html().replace(b,a),$(this).html(c)}}),$(".btn-toggle .btn").click(function(){var a="btn-"+$(this).data("btn-class"),b=$(this).data("btn-label-default"),c=$(this).data("btn-label-toggled");if(null!=c&&null!=b){var d;d=$(this).hasClass("btn-default")?$(this).html().replace(b,c):$(this).html().replace(c,b),$(this).html(d)}null!=a&&($(this).toggleClass(a),$(this).toggleClass("btn-default"))}),$(".media-loader").click(function(){var a=$(this).data("target"),b=$(a),c=b.find("iframe");(void 0===c.attr("src")||c.attr("src")===!1)&&c.attr("src",c.data("src"))}),$(".btn-sm").dblclick(function(){var a="btn-"+$(this).data("btn-class");$(this).hasClass("btn-default")?($(".btn-sm > input").attr("checked","checked"),$(".btn-sm > input").prop("checked",!0),$(".btn-sm").addClass(a),$(".btn-sm").addClass("active"),$(".btn-sm").removeClass("btn-default")):($(".btn-sm > input").attr("checked",""),$(".btn-sm > input").removeAttr("checked"),$(".btn-sm > input").prop("checked",!1),$(".btn-sm").removeClass(a),$(".btn-sm").removeClass("active"),$(".btn-sm").addClass("btn-default"))})}),$(document).ready(function(){$(".searx_init_map").click(function(a){var b=$(this);setTimeout(function(){var a=b.data("leaflet-target"),c=null;b.data("map-boundingbox")&&(c=L.latLngBounds(L.latLng(b.data("map-boundingbox")[0],b.data("map-boundingbox")[2]),L.latLng(b.data("map-boundingbox")[1],b.data("map-boundingbox")[3])));new searx.map.Map(a,{latLng:new L.LatLng(b.data("map-lat"),b.data("map-lng")),zoom:b.data("map-zoom"),geojson:b.data("map-geojson"),boundingbox:c})},0),$(this).off(a)}),$(".searx_overpass_request").click(function(a){var b=$(this),c=$("#"+b.data("result-table-loadicon")),d=$("#"+$(this).data("result-table")),e=$(this).data("osm-id"),f=searx.osm.getOsmTypeFromString($(this).data("osm-type"));searx.osm.overpassApiElementRequest(e,f,{success:function(a){for(var b in a.tags)if(-1==["addr:city","addr:country","addr:housenumber","addr:postcode","addr:street"].indexOf(a.tags[b].key)){var e="<td>"+a.tags[b].key+"</td><td>"+searx.osm.formateValues(a.tags[b]).join(";")+"</td>";d.append("<tr>"+e+"</tr")}d.removeClass("hidden"),c.addClass("hidden")},error:function(){c.append('<p class="text-muted">could not load data!</p>')}}),$(this).off(a)})});var searx;!function(a){!function(a){function b(a){var b=[];for(var c in a.values)switch(a.key){case"phone":case"fax":b.push('<a href="tel:'+a.values[c].replace(/ /g,"")+'">'+a.values[c]+"</a>");break;case"email":b.push('<a href="mailto:'+a.values[c]+'">'+a.values[c]+"</a>");break;case"website":case"url":var d=a.values[c];/^\w+:\/\//.test(d)||(d="http://"+d),b.push('<a href="'+d+'">'+a.values[c]+"</a>");break;case"wikidata":b.push('<a href="https://www.wikidata.org/wiki/'+a.values[c]+'">'+a.values[c]+"</a>");break;case"wikipedia":-1!=a.values[c].indexOf(":")&&b.push('<a href="https://'+a.values[c].substring(0,a.values[c].indexOf(":"))+".wikipedia.org/wiki/"+a.values[c].substring(a.values[c].indexOf(":")+1)+'">'+a.values[c]+"</a>");break;default:b.push(a.values[c])}return b}a.formateValues=b}(a.osm||(a.osm={}));a.osm}(searx||(searx={}));